import{_ as s,o as n,c as a,U as l}from"./chunks/framework.489e5108.js";const b=JSON.parse('{"title":"10.å¢æ·»å±æ€§","description":"","frontmatter":{},"headers":[],"relativePath":"3.ç¼–ç¨‹æ€ç»´ä½“ç³»æ„å»º/3.4.6.10.å¢æ·»å±æ€§.md","filePath":"3.ç¼–ç¨‹æ€ç»´ä½“ç³»æ„å»º/3.4.6.10.å¢æ·»å±æ€§.md","lastUpdated":1696176798000}'),p={name:"3.ç¼–ç¨‹æ€ç»´ä½“ç³»æ„å»º/3.4.6.10.å¢æ·»å±æ€§.md"},o=l(`<h1 id="_10-å¢æ·»å±æ€§" tabindex="-1">10. å¢æ·»å±æ€§ <a class="header-anchor" href="#_10-å¢æ·»å±æ€§" aria-label="Permalink to &quot;10.å¢æ·»å±æ€§&quot;">â€‹</a></h1><p>æˆ‘ä»¬åœ¨ç¬¬ 4 ç« ä¸­ä»‹ç» object æ—¶ï¼Œå®ƒä»¬åªæœ‰ä¸‰ä¸ªå±æ€§ã€‚</p><p>åœ¨ç¬¬ 6 ç« ä¸­ï¼Œæˆ‘ä»¬å¢åŠ äº†ç¬¬å››ä¸ªã€‚è¿™ä»–å¦ˆå¤ªå°‘äº†ï¼</p><p>ä¸ºäº†åœ¨æˆ‘ä»¬çš„å†’é™©ä¸­åŠ å…¥æ›´å¤šç»†èŠ‚ï¼Œæˆ‘ä»¬éœ€è¦æ›´å¤šçš„å±æ€§ã€‚ä¸‹é¢æ˜¯ä¸€äº›ç¤ºä¾‹ã€‚</p><ol><li>ç¯é¡¾å››å‘¨è¿™ä¸ªå‘½ä»¤å¯ä»¥ç»™å‡ºç©å®¶ä½ç½®çš„å…¨å±€æè¿°ï¼ŒåŒ…æ‹¬åœ¨é‚£é‡Œçš„ç‰©å“ã€NPC å’Œå…¶ä»–å¯¹è±¡çš„åˆ—è¡¨ã€‚å¾ˆå¤šå†’é™©æ´»åŠ¨éƒ½éœ€è¦ç©å®¶å¯¹è¿™äº›å¯¹è±¡è¿›è¡ŒæŸ¥è¯¢ï¼Œä»è€Œæ­ç¤ºå‡ºåœ¨æ¸¸æˆä¸­è·å¾—è¿›å±•æ‰€éœ€è¦çš„æŸäº›çº¿ç´¢ï¼Œæˆ–è€…ç®€å•åœ°æå‡æ¸¸æˆçš„æ°›å›´ã€‚æˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªå¯¹æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è¯¦ç»†è¯´æ˜çš„å±æ€§ç»†èŠ‚ï¼ŒåŠ ä¸Šä¸€ä¸ªä¸åŒ…å«å…¶ä»–å¯¹è±¡çš„å¯¹è±¡ä¸€èµ·ä½¿ç”¨çš„å±æ€§å†…å®¹ã€‚</li><li>å¦‚æœç©å®¶å¼€å§‹ä¸€æ®µè¯æ—¶ï¼Œå“åº”æ€»æ˜¯ â€œOKâ€ å’Œæ–°ä½ç½®çš„æè¿°ã€‚è¿™ä¼¼ä¹æœ‰ç‚¹æ²‰é—·ã€‚æ‰€ä»¥ï¼Œä¸ºæ¯ä¸ªæ®µè½æä¾›è‡ªå·±çš„è‡ªå®šä¹‰æ¶ˆæ¯ä¼šæ›´å¥½ã€‚æˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªå±æ€§ textGo æ¥ä¿å­˜æ­¤æ¶ˆæ¯ã€‚</li><li>æœ‰äº›é€šé“å¯èƒ½æ˜¯ç‰¹æ®Šè®¾å®šçš„ï¼Œæ¯”å¦‚è¯´ä¼ é€é—¨ï¼Œé™·é˜±ç­‰ç­‰ã€‚</li></ol><p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸€æ¡æ—é“å¯èƒ½éšè—ç€é™·é˜±ã€‚è™½ç„¶é€šé“ä¼¼ä¹ä»ä½ç½® A é€šå‘ä½ç½® Bï¼Œä½†å®é™…ä¸Šç»ˆç‚¹æ˜¯ä½ç½® Cï¼Œå³æ‰è¿›å‘äº†ã€‚</p><p>å‡è®¾æˆ‘ä»¬çš„æ´å£è¢«è­¦å«æŒ¡ä½äº†ã€‚ç©å®¶å°±è¿‡ä¸å»ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°å°†é€šé“çš„<em>ç›®çš„åœ°</em>æ›´æ”¹ä¸ºç»ˆç‚¹ä½ç½®ï¼ˆæˆ– <em>NULL</em>ï¼‰ï¼Œä½†è¿™ä¼šå¯¼è‡´å¯¹<em>è¯¸å¦‚ go cave å’Œ look cave</em> è¿™æ ·çš„å‘½ä»¤åšå‡ºä¸æ­£ç¡®çš„å›åº”ï¼šâ€œä½ åœ¨è¿™é‡Œçœ‹ä¸åˆ°ä»»ä½•æ´ç©´ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå°†é€šé“çš„å®é™…ç»ˆç‚¹å’Œè™šå‡ç»ˆç‚¹åˆ†å¼€çš„å•ç‹¬å±æ€§ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†å¼•å…¥ä¸€ä¸ªå±æ€§ prospect æ¥è¡¨ç¤ºåè€…ã€‚</p><ol><li>åœ¨è®¸å¤šå†’é™©ä¸­ï¼Œç©å®¶ä»¥åŠæ¸¸æˆä¸­çš„ NPC åœ¨æºå¸¦é‡æ–¹é¢å—åˆ°é™åˆ¶ã€‚ç»™æ¯ä»¶ç‰©å“ä¸€ä¸ªé‡é‡ï¼Œè§’è‰²åº“å­˜ä¸­æ‰€æœ‰ç‰©å“çš„æ€»é‡é‡ä¸åº”è¶…è¿‡è¯¥è§’è‰²æ‰€èƒ½æ‰¿è½½çš„æœ€å¤§é‡é‡ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™ä¸€ä¸ªç‰©ä½“ä¸€ä¸ªéå¸¸é«˜çš„é‡é‡ï¼Œä½¿å®ƒä¸å¯ç§»åŠ¨ï¼ˆä¸€æ£µæ ‘ï¼Œä¸€åº§æˆ¿å­ï¼Œä¸€åº§å±±ï¼‰ã€‚</li><li>RPG å¼çš„å†’é™©æ¸¸æˆéœ€è¦è§’è‰²çš„æ•´ä¸ªå±æ€§èŒƒå›´ (ç©å®¶ä¸éç©å®¶)ï¼Œä¾‹å¦‚ HPã€‚HP ä¸ºé›¶çš„å¯¹è±¡è¦ä¹ˆæ­»äº†ï¼Œè¦ä¹ˆæ ¹æœ¬ä¸æ˜¯è§’è‰²ã€‚</li></ol><p>æˆ‘ä»¬åœ¨ object.txt ä¸­å®šä¹‰äº†ä¸ƒä¸ªæ–°å±æ€§ï¼š</p><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;object.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">typedef</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">struct</span><span style="color:#E1E4E8;"> object {</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">description;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">**</span><span style="color:#E1E4E8;">tags;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">struct</span><span style="color:#E1E4E8;"> object </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">location;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">struct</span><span style="color:#E1E4E8;"> object </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">destination;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">struct</span><span style="color:#E1E4E8;"> object </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">prospect;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">details;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">contents;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">textGo;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;">            weight;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;">            capacity;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;">            health;</span></span>
<span class="line"><span style="color:#E1E4E8;">} OBJECT;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">extern</span><span style="color:#E1E4E8;"> OBJECT objs</span><span style="color:#F97583;">[]</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> field</span></span>
<span class="line"><span style="color:#E1E4E8;">     description </span><span style="color:#9ECBFF;">&quot;an open field&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     tags        </span><span style="color:#9ECBFF;">&quot;field&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     details     </span><span style="color:#9ECBFF;">&quot;The field is a nice and quiet place under a clear blue sky.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     capacity    </span><span style="color:#79B8FF;">9999</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> cave</span></span>
<span class="line"><span style="color:#E1E4E8;">     description </span><span style="color:#9ECBFF;">&quot;a little cave&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     tags        </span><span style="color:#9ECBFF;">&quot;cave&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     details     </span><span style="color:#9ECBFF;">&quot;The cave is just a cold, damp, rocky chamber.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     capacity    </span><span style="color:#79B8FF;">9999</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> silver</span></span>
<span class="line"><span style="color:#E1E4E8;">     description </span><span style="color:#9ECBFF;">&quot;a silver coin&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     tags        </span><span style="color:#9ECBFF;">&quot;silver&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;coin&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;silver coin&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     location    field</span></span>
<span class="line"><span style="color:#E1E4E8;">     details     </span><span style="color:#9ECBFF;">&quot;The coin has an eagle on the obverse.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     weight      </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">     </span><span style="color:#6A737D;">//å¦‚æœä½ è§‰å¾—ä¸åˆç†ï¼Œå¯ä»¥è‡ªå·±æ›´æ”¹</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> gold</span></span>
<span class="line"><span style="color:#E1E4E8;">     description </span><span style="color:#9ECBFF;">&quot;a gold coin&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     tags        </span><span style="color:#9ECBFF;">&quot;gold&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;coin&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;gold coin&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     location    cave</span></span>
<span class="line"><span style="color:#E1E4E8;">     details     </span><span style="color:#9ECBFF;">&quot;The shiny coin seems to be a rare and priceless artefact.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     weight      </span><span style="color:#79B8FF;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> guard</span></span>
<span class="line"><span style="color:#E1E4E8;">     description </span><span style="color:#9ECBFF;">&quot;a burly guard&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     tags        </span><span style="color:#9ECBFF;">&quot;guard&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;burly guard&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     location    field</span></span>
<span class="line"><span style="color:#E1E4E8;">     details     </span><span style="color:#9ECBFF;">&quot;The guard is a really big fellow.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     contents    </span><span style="color:#9ECBFF;">&quot;He has&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     health      </span><span style="color:#79B8FF;">100</span></span>
<span class="line"><span style="color:#E1E4E8;">     capacity    </span><span style="color:#79B8FF;">20</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> player</span></span>
<span class="line"><span style="color:#E1E4E8;">     description </span><span style="color:#9ECBFF;">&quot;yourself&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     tags        </span><span style="color:#9ECBFF;">&quot;yourself&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     location    field</span></span>
<span class="line"><span style="color:#E1E4E8;">     details     </span><span style="color:#9ECBFF;">&quot;You would need a mirror to look at yourself.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     contents    </span><span style="color:#9ECBFF;">&quot;You have&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     health      </span><span style="color:#79B8FF;">100</span></span>
<span class="line"><span style="color:#E1E4E8;">     capacity    </span><span style="color:#79B8FF;">20</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> intoCave</span></span>
<span class="line"><span style="color:#E1E4E8;">     description </span><span style="color:#9ECBFF;">&quot;a cave entrance to the east&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     tags        </span><span style="color:#9ECBFF;">&quot;east&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;entrance&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     location    field</span></span>
<span class="line"><span style="color:#E1E4E8;">     prospect    cave</span></span>
<span class="line"><span style="color:#E1E4E8;">     details     </span><span style="color:#9ECBFF;">&quot;The entrance is just a narrow opening in a small outcrop.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     textGo      </span><span style="color:#9ECBFF;">&quot;The guard stops you from walking into the cave.&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> exitCave</span></span>
<span class="line"><span style="color:#E1E4E8;">     description </span><span style="color:#9ECBFF;">&quot;an exit to the west&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     tags        </span><span style="color:#9ECBFF;">&quot;west&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;exit&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     location    cave</span></span>
<span class="line"><span style="color:#E1E4E8;">     destination field</span></span>
<span class="line"><span style="color:#E1E4E8;">     details     </span><span style="color:#9ECBFF;">&quot;Sunlight pours in through an opening in the cave&#39;s wall.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     textGo      </span><span style="color:#9ECBFF;">&quot;You walk out of the cave.&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> wallField</span></span>
<span class="line"><span style="color:#E1E4E8;">     description </span><span style="color:#9ECBFF;">&quot;dense forest all around&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     tags        </span><span style="color:#9ECBFF;">&quot;west&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;north&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;south&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;forest&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     location    field</span></span>
<span class="line"><span style="color:#E1E4E8;">     details     </span><span style="color:#9ECBFF;">&quot;The field is surrounded by trees and undergrowth.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     textGo      </span><span style="color:#9ECBFF;">&quot;Dense forest is blocking the way.&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> wallCave</span></span>
<span class="line"><span style="color:#E1E4E8;">     description </span><span style="color:#9ECBFF;">&quot;solid rock all around&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     tags        </span><span style="color:#9ECBFF;">&quot;east&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;north&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;south&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;rock&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     location    cave</span></span>
<span class="line"><span style="color:#E1E4E8;">     details     </span><span style="color:#9ECBFF;">&quot;Carved in stone is a secret password &#39;abccb&#39;.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">     textGo      </span><span style="color:#9ECBFF;">&quot;Solid rock is blocking the way.&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;object.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">typedef</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">struct</span><span style="color:#24292E;"> object {</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">    </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">description;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">   </span><span style="color:#D73A49;">**</span><span style="color:#24292E;">tags;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">struct</span><span style="color:#24292E;"> object </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">location;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">struct</span><span style="color:#24292E;"> object </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">destination;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">struct</span><span style="color:#24292E;"> object </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">prospect;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">    </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">details;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">    </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">contents;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;">    </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">textGo;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">int</span><span style="color:#24292E;">            weight;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">int</span><span style="color:#24292E;">            capacity;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">int</span><span style="color:#24292E;">            health;</span></span>
<span class="line"><span style="color:#24292E;">} OBJECT;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">extern</span><span style="color:#24292E;"> OBJECT objs</span><span style="color:#D73A49;">[]</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> field</span></span>
<span class="line"><span style="color:#24292E;">     description </span><span style="color:#032F62;">&quot;an open field&quot;</span></span>
<span class="line"><span style="color:#24292E;">     tags        </span><span style="color:#032F62;">&quot;field&quot;</span></span>
<span class="line"><span style="color:#24292E;">     details     </span><span style="color:#032F62;">&quot;The field is a nice and quiet place under a clear blue sky.&quot;</span></span>
<span class="line"><span style="color:#24292E;">     capacity    </span><span style="color:#005CC5;">9999</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> cave</span></span>
<span class="line"><span style="color:#24292E;">     description </span><span style="color:#032F62;">&quot;a little cave&quot;</span></span>
<span class="line"><span style="color:#24292E;">     tags        </span><span style="color:#032F62;">&quot;cave&quot;</span></span>
<span class="line"><span style="color:#24292E;">     details     </span><span style="color:#032F62;">&quot;The cave is just a cold, damp, rocky chamber.&quot;</span></span>
<span class="line"><span style="color:#24292E;">     capacity    </span><span style="color:#005CC5;">9999</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> silver</span></span>
<span class="line"><span style="color:#24292E;">     description </span><span style="color:#032F62;">&quot;a silver coin&quot;</span></span>
<span class="line"><span style="color:#24292E;">     tags        </span><span style="color:#032F62;">&quot;silver&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;coin&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;silver coin&quot;</span></span>
<span class="line"><span style="color:#24292E;">     location    field</span></span>
<span class="line"><span style="color:#24292E;">     details     </span><span style="color:#032F62;">&quot;The coin has an eagle on the obverse.&quot;</span></span>
<span class="line"><span style="color:#24292E;">     weight      </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">     </span><span style="color:#6A737D;">//å¦‚æœä½ è§‰å¾—ä¸åˆç†ï¼Œå¯ä»¥è‡ªå·±æ›´æ”¹</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> gold</span></span>
<span class="line"><span style="color:#24292E;">     description </span><span style="color:#032F62;">&quot;a gold coin&quot;</span></span>
<span class="line"><span style="color:#24292E;">     tags        </span><span style="color:#032F62;">&quot;gold&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;coin&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;gold coin&quot;</span></span>
<span class="line"><span style="color:#24292E;">     location    cave</span></span>
<span class="line"><span style="color:#24292E;">     details     </span><span style="color:#032F62;">&quot;The shiny coin seems to be a rare and priceless artefact.&quot;</span></span>
<span class="line"><span style="color:#24292E;">     weight      </span><span style="color:#005CC5;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> guard</span></span>
<span class="line"><span style="color:#24292E;">     description </span><span style="color:#032F62;">&quot;a burly guard&quot;</span></span>
<span class="line"><span style="color:#24292E;">     tags        </span><span style="color:#032F62;">&quot;guard&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;burly guard&quot;</span></span>
<span class="line"><span style="color:#24292E;">     location    field</span></span>
<span class="line"><span style="color:#24292E;">     details     </span><span style="color:#032F62;">&quot;The guard is a really big fellow.&quot;</span></span>
<span class="line"><span style="color:#24292E;">     contents    </span><span style="color:#032F62;">&quot;He has&quot;</span></span>
<span class="line"><span style="color:#24292E;">     health      </span><span style="color:#005CC5;">100</span></span>
<span class="line"><span style="color:#24292E;">     capacity    </span><span style="color:#005CC5;">20</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> player</span></span>
<span class="line"><span style="color:#24292E;">     description </span><span style="color:#032F62;">&quot;yourself&quot;</span></span>
<span class="line"><span style="color:#24292E;">     tags        </span><span style="color:#032F62;">&quot;yourself&quot;</span></span>
<span class="line"><span style="color:#24292E;">     location    field</span></span>
<span class="line"><span style="color:#24292E;">     details     </span><span style="color:#032F62;">&quot;You would need a mirror to look at yourself.&quot;</span></span>
<span class="line"><span style="color:#24292E;">     contents    </span><span style="color:#032F62;">&quot;You have&quot;</span></span>
<span class="line"><span style="color:#24292E;">     health      </span><span style="color:#005CC5;">100</span></span>
<span class="line"><span style="color:#24292E;">     capacity    </span><span style="color:#005CC5;">20</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> intoCave</span></span>
<span class="line"><span style="color:#24292E;">     description </span><span style="color:#032F62;">&quot;a cave entrance to the east&quot;</span></span>
<span class="line"><span style="color:#24292E;">     tags        </span><span style="color:#032F62;">&quot;east&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;entrance&quot;</span></span>
<span class="line"><span style="color:#24292E;">     location    field</span></span>
<span class="line"><span style="color:#24292E;">     prospect    cave</span></span>
<span class="line"><span style="color:#24292E;">     details     </span><span style="color:#032F62;">&quot;The entrance is just a narrow opening in a small outcrop.&quot;</span></span>
<span class="line"><span style="color:#24292E;">     textGo      </span><span style="color:#032F62;">&quot;The guard stops you from walking into the cave.&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> exitCave</span></span>
<span class="line"><span style="color:#24292E;">     description </span><span style="color:#032F62;">&quot;an exit to the west&quot;</span></span>
<span class="line"><span style="color:#24292E;">     tags        </span><span style="color:#032F62;">&quot;west&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;exit&quot;</span></span>
<span class="line"><span style="color:#24292E;">     location    cave</span></span>
<span class="line"><span style="color:#24292E;">     destination field</span></span>
<span class="line"><span style="color:#24292E;">     details     </span><span style="color:#032F62;">&quot;Sunlight pours in through an opening in the cave&#39;s wall.&quot;</span></span>
<span class="line"><span style="color:#24292E;">     textGo      </span><span style="color:#032F62;">&quot;You walk out of the cave.&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> wallField</span></span>
<span class="line"><span style="color:#24292E;">     description </span><span style="color:#032F62;">&quot;dense forest all around&quot;</span></span>
<span class="line"><span style="color:#24292E;">     tags        </span><span style="color:#032F62;">&quot;west&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;north&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;south&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;forest&quot;</span></span>
<span class="line"><span style="color:#24292E;">     location    field</span></span>
<span class="line"><span style="color:#24292E;">     details     </span><span style="color:#032F62;">&quot;The field is surrounded by trees and undergrowth.&quot;</span></span>
<span class="line"><span style="color:#24292E;">     textGo      </span><span style="color:#032F62;">&quot;Dense forest is blocking the way.&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> wallCave</span></span>
<span class="line"><span style="color:#24292E;">     description </span><span style="color:#032F62;">&quot;solid rock all around&quot;</span></span>
<span class="line"><span style="color:#24292E;">     tags        </span><span style="color:#032F62;">&quot;east&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;north&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;south&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;rock&quot;</span></span>
<span class="line"><span style="color:#24292E;">     location    cave</span></span>
<span class="line"><span style="color:#24292E;">     details     </span><span style="color:#032F62;">&quot;Carved in stone is a secret password &#39;abccb&#39;.&quot;</span></span>
<span class="line"><span style="color:#24292E;">     textGo      </span><span style="color:#032F62;">&quot;Solid rock is blocking the way.&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br></div></div><p>æ³¨æ„ï¼štextGo ä¸ä»…å¯¹é€šé“å¯¹è±¡æœ‰ç”¨ï¼Œè€Œä¸”å¯¹éé€šé“å¯¹è±¡ä¹Ÿæœ‰ç”¨ (åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»¥åæˆ‘ä»¬å°†ä»‹ç» â€œå¢™â€ è¿™ä¸ªæ¦‚å¿µ)</p><div class="warning custom-block"><p class="custom-block-title">ğŸ¤” æ€è€ƒé¢˜ï¼šä½ èƒ½å¦è‡ªè¡Œå®ç°ä¸Šè¿°ä¼ªä»£ç ï¼Ÿ</p></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥ä½¿ç”¨æ–°å±æ€§ (å¦‚æœä½ å®Œæˆäº†ä¸Šé¢çš„æ€è€ƒé¢˜),<strong>details</strong> ç”¨äºæ–°è¯†åˆ«çš„å‘½ä»¤<em>å¤–è§‚ <code>&lt;object&gt;</code></em>ï¼Œ<strong>textGo</strong> åœ¨æˆ‘ä»¬çš„å‘½ä»¤ <em>go</em> å®ç°ä¸­æ›¿æ¢å›ºå®šæ–‡æœ¬ *â€œOK*â€ã€‚</p><h2 id="location-c" tabindex="-1">location.c <a class="header-anchor" href="#location-c" aria-label="Permalink to &quot;location.c&quot;">â€‹</a></h2><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;stdbool.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;string.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;object.h&quot;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;misc.h&quot;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;noun.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">executeLook</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">noun</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (noun </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">strcmp</span><span style="color:#E1E4E8;">(noun, </span><span style="color:#9ECBFF;">&quot;around&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;You are in </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;">.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, player-&gt;location-&gt;description);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">listObjectsAtLocation</span><span style="color:#E1E4E8;">(player-&gt;location);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">else</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      OBJECT </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getVisible</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;what you want to look at&quot;</span><span style="color:#E1E4E8;">, noun);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">switch</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">getDistance</span><span style="color:#E1E4E8;">(player, obj))</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> distHereContained:</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Hard to see, try to get it first.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> distOverthere:</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Too far away, move closer please.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> distNotHere:</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;You don&#39;t see any </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;"> here.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, noun);</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> distUnknownObject:</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// already handled by getVisible</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">%s\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, obj</span><span style="color:#F97583;">-&gt;</span><span style="color:#FFAB70;">details</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">listObjectsAtLocation</span><span style="color:#E1E4E8;">(obj);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">movePlayer</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">passage</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">%s\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, passage-&gt;textGo);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (passage-&gt;destination </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      player-&gt;location </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> passage-&gt;destination;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">executeLook</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;around&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">executeGo</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">noun</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   OBJECT </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getVisible</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;where you want to go&quot;</span><span style="color:#E1E4E8;">, noun);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">switch</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">getDistance</span><span style="color:#E1E4E8;">(player, obj))</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> distOverthere:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">movePlayer</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">getPassage</span><span style="color:#E1E4E8;">(player</span><span style="color:#F97583;">-&gt;</span><span style="color:#FFAB70;">location</span><span style="color:#E1E4E8;">, obj));</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> distNotHere:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;You don&#39;t see any </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;"> here.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, noun);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> distUnknownObject:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// already handled by getVisible</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">movePlayer</span><span style="color:#E1E4E8;">(obj);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;stdbool.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;string.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;object.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;misc.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;noun.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">executeLook</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">noun</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (noun </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">strcmp</span><span style="color:#24292E;">(noun, </span><span style="color:#032F62;">&quot;around&quot;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;You are in </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;">.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, player-&gt;location-&gt;description);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">listObjectsAtLocation</span><span style="color:#24292E;">(player-&gt;location);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">else</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getVisible</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;what you want to look at&quot;</span><span style="color:#24292E;">, noun);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">switch</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">getDistance</span><span style="color:#24292E;">(player, obj))</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> distHereContained:</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Hard to see, try to get it first.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> distOverthere:</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Too far away, move closer please.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> distNotHere:</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;You don&#39;t see any </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;"> here.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, noun);</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> distUnknownObject:</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// already handled by getVisible</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">default</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">%s\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, obj</span><span style="color:#D73A49;">-&gt;</span><span style="color:#E36209;">details</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">listObjectsAtLocation</span><span style="color:#24292E;">(obj);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">movePlayer</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">passage</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">%s\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, passage-&gt;textGo);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (passage-&gt;destination </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      player-&gt;location </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> passage-&gt;destination;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">executeLook</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;around&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">executeGo</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">noun</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getVisible</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;where you want to go&quot;</span><span style="color:#24292E;">, noun);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">switch</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">getDistance</span><span style="color:#24292E;">(player, obj))</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> distOverthere:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">movePlayer</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">getPassage</span><span style="color:#24292E;">(player</span><span style="color:#D73A49;">-&gt;</span><span style="color:#E36209;">location</span><span style="color:#24292E;">, obj));</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> distNotHere:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;You don&#39;t see any </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;"> here.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, noun);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> distUnknownObject:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// already handled by getVisible</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">default</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">movePlayer</span><span style="color:#24292E;">(obj);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div><p>å±æ€§æƒé‡å’Œå®¹é‡ä¸€èµ·æˆä¸ºä¸èƒ½å°†æŸäº›å¯¹è±¡ç§»åŠ¨åˆ°å‘¨å›´çš„å¯èƒ½åŸå› ã€‚è€Œ HP æ£€æŸ¥ä»£æ›¿äº†è§’è‰²çš„ç¡¬ç¼–ç ç™½åå•ã€‚</p><h2 id="move-c" tabindex="-1">move.c <a class="header-anchor" href="#move-c" aria-label="Permalink to &quot;move.c&quot;">â€‹</a></h2><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;stdbool.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;object.h&quot;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;misc.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">weightOfContents</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">container</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> sum </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   OBJECT </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">obj;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> objs; obj </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> endOfObjs; obj</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">isHolding</span><span style="color:#E1E4E8;">(container, obj)) sum </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> obj-&gt;weight;</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> sum;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">describeMove</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">obj</span><span style="color:#E1E4E8;">, OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (to </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> player-&gt;location)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;You drop </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;">.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, obj-&gt;description);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (to </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> player)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(to-&gt;health </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;You give </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;"> to </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;">.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;You put </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;"> in </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;">.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">             obj-&gt;description, to-&gt;description);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (obj-&gt;location </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> player-&gt;location)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;You pick up </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;">.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, obj-&gt;description);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">else</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;You get </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;"> from </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;">.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">             obj-&gt;description, obj-&gt;location-&gt;description);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">moveObject</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">obj</span><span style="color:#E1E4E8;">, OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (obj </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// already handled by getVisible or getPossession</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (to </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;There is nobody here to give that to.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (obj-&gt;weight </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> to-&gt;capacity)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;That is way too heavy.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (obj-&gt;weight </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">weightOfContents</span><span style="color:#E1E4E8;">(to) </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> to-&gt;capacity)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;That would become too heavy.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">else</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">describeMove</span><span style="color:#E1E4E8;">(obj, to);</span></span>
<span class="line"><span style="color:#E1E4E8;">      obj-&gt;location </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> to;</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;stdbool.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;object.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;misc.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">weightOfContents</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">container</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> sum </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">obj;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> objs; obj </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> endOfObjs; obj</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">isHolding</span><span style="color:#24292E;">(container, obj)) sum </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> obj-&gt;weight;</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> sum;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">describeMove</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">obj</span><span style="color:#24292E;">, OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">to</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (to </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> player-&gt;location)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;You drop </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;">.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, obj-&gt;description);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (to </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> player)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(to-&gt;health </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;You give </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;"> to </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;">.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;You put </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;"> in </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;">.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">             obj-&gt;description, to-&gt;description);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (obj-&gt;location </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> player-&gt;location)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;You pick up </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;">.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, obj-&gt;description);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">else</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;You get </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;"> from </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;">.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">             obj-&gt;description, obj-&gt;location-&gt;description);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">moveObject</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">obj</span><span style="color:#24292E;">, OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">to</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (obj </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// already handled by getVisible or getPossession</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (to </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;There is nobody here to give that to.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (obj-&gt;weight </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> to-&gt;capacity)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;That is way too heavy.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (obj-&gt;weight </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">weightOfContents</span><span style="color:#24292E;">(to) </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> to-&gt;capacity)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;That would become too heavy.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">else</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">describeMove</span><span style="color:#24292E;">(obj, to);</span></span>
<span class="line"><span style="color:#24292E;">      obj-&gt;location </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> to;</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><p>è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæ¨¡å—å¯ä»¥ä½¿ç”¨ HP æ¥è¯†åˆ«è§’è‰²ã€‚</p><h2 id="inventory-c" tabindex="-1">inventory.c <a class="header-anchor" href="#inventory-c" aria-label="Permalink to &quot;inventory.c&quot;">â€‹</a></h2><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;stdbool.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;object.h&quot;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;misc.h&quot;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;noun.h&quot;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;move.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">executeGet</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">noun</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   OBJECT </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getVisible</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;what you want to get&quot;</span><span style="color:#E1E4E8;">, noun);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">switch</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">getDistance</span><span style="color:#E1E4E8;">(player, obj))</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> distSelf:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;You should not be doing that to yourself.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> distHeld:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;You already have </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;">.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, obj</span><span style="color:#F97583;">-&gt;</span><span style="color:#FFAB70;">description</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> distOverthere:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Too far away, move closer please.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> distUnknownObject:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// already handled by getVisible</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (obj</span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;">location </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> obj</span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;">location</span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;">health </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;You should ask </span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;"> nicely.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, obj-&gt;location-&gt;description);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">else</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">moveObject</span><span style="color:#E1E4E8;">(obj, player);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">executeDrop</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">noun</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">moveObject</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">getPossession</span><span style="color:#E1E4E8;">(player, </span><span style="color:#9ECBFF;">&quot;drop&quot;</span><span style="color:#E1E4E8;">, noun), player-&gt;location);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">executeAsk</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">noun</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">moveObject</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">getPossession</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">actorHere</span><span style="color:#E1E4E8;">(), </span><span style="color:#9ECBFF;">&quot;ask&quot;</span><span style="color:#E1E4E8;">, noun), player);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">executeGive</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">char</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">noun</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">moveObject</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">getPossession</span><span style="color:#E1E4E8;">(player, </span><span style="color:#9ECBFF;">&quot;give&quot;</span><span style="color:#E1E4E8;">, noun), </span><span style="color:#B392F0;">actorHere</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">executeInventory</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">listObjectsAtLocation</span><span style="color:#E1E4E8;">(player) </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;You are empty-handed.</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;stdbool.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;object.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;misc.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;noun.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;move.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">executeGet</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">noun</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getVisible</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;what you want to get&quot;</span><span style="color:#24292E;">, noun);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">switch</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">getDistance</span><span style="color:#24292E;">(player, obj))</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> distSelf:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;You should not be doing that to yourself.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> distHeld:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;You already have </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;">.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, obj</span><span style="color:#D73A49;">-&gt;</span><span style="color:#E36209;">description</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> distOverthere:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Too far away, move closer please.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> distUnknownObject:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// already handled by getVisible</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">default</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (obj</span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;">location </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> obj</span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;">location</span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;">health </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;You should ask </span><span style="color:#005CC5;">%s</span><span style="color:#032F62;"> nicely.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, obj-&gt;location-&gt;description);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">else</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">moveObject</span><span style="color:#24292E;">(obj, player);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">executeDrop</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">noun</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">moveObject</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">getPossession</span><span style="color:#24292E;">(player, </span><span style="color:#032F62;">&quot;drop&quot;</span><span style="color:#24292E;">, noun), player-&gt;location);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">executeAsk</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">noun</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">moveObject</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">getPossession</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">actorHere</span><span style="color:#24292E;">(), </span><span style="color:#032F62;">&quot;ask&quot;</span><span style="color:#24292E;">, noun), player);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">executeGive</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">char</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">noun</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">moveObject</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">getPossession</span><span style="color:#24292E;">(player, </span><span style="color:#032F62;">&quot;give&quot;</span><span style="color:#24292E;">, noun), </span><span style="color:#6F42C1;">actorHere</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">executeInventory</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">listObjectsAtLocation</span><span style="color:#24292E;">(player) </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;You are empty-handed.</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">ğŸ¤” æ€è€ƒé¢˜ï¼šä»”ç»†è§‚å¯Ÿè¿™æ®µä»£ç ï¼Œçœ‹çœ‹ä¸ä½ å†™çš„æœ‰ä½•ä¸åŒï¼Ÿ</p></div><p>æƒé‡æ£€æŸ¥åˆ©ç”¨äº†æ–°åŠŸèƒ½ <em>weightOfContentsï¼Œ<em>å®ƒå°†åœ¨</em> misc.c</em> ä¸­å®ç°ã€‚åœ¨åŒä¸€æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯¹ä¸€äº›ç°æœ‰å‡½æ•°è¿›è¡Œäº†ä¿®æ”¹ï¼Œä»¥æ”¯æŒæœ€åå‡ ä¸ªå±æ€§ã€‚</p><p>å±æ€§å†…å®¹å°†æ›¿æ¢å›ºå®šæ–‡æœ¬ *â€œYou seeâ€ã€‚<em>åœ¨åˆ—å‡ºç©å®¶çš„åº“å­˜æ—¶ï¼ŒåŸå§‹æ–‡æœ¬å·²ç»æœ‰ç‚¹å¥‡æ€ªäº†ï¼Œä½†æ˜¯ç°åœ¨å‡½æ•°</em> listObjectsAtLocation<em> ç”¨äºæ˜¾ç¤ºä»»ä½•å¯èƒ½å¯¹è±¡çš„å†…å®¹ï¼ˆè¯·å‚é˜…ä¸Šé¢çš„å‡½æ•°</em> expertLook*ï¼‰ï¼Œæˆ‘ä»¬çœŸçš„éœ€è¦ä¸€äº›æ›´çµæ´»çš„ä¸œè¥¿ã€‚</p><p>åœ¨å‡½æ•° <em>getPassage</em> ä¸­æˆ‘ä»¬å°†å±æ€§<em>ç›®æ ‡</em>æ›¿æ¢ä¸º prospectï¼Œå¹¶æ”¹è¿›<em>å¯¹æ‰€æœ‰</em>å‘½ä»¤ï¼ˆè€Œä¸ä»…ä»…æ˜¯ <em>go</em> and <em>look</em>ï¼‰çš„å“åº”ï¼Œè¿™äº›å‘½ä»¤åº”ç”¨äºä½äº â€œéšè—é€šé“â€ å¦ä¸€ç«¯çš„ä½ç½®ã€‚</p><h2 id="misc-h" tabindex="-1">misc.h <a class="header-anchor" href="#misc-h" aria-label="Permalink to &quot;misc.h&quot;">â€‹</a></h2><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">typedef</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">enum</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">   distSelf,</span></span>
<span class="line"><span style="color:#E1E4E8;">   distHeld,</span></span>
<span class="line"><span style="color:#E1E4E8;">   distHeldContained,</span></span>
<span class="line"><span style="color:#E1E4E8;">   distLocation,</span></span>
<span class="line"><span style="color:#E1E4E8;">   distHere,</span></span>
<span class="line"><span style="color:#E1E4E8;">   distHereContained,</span></span>
<span class="line"><span style="color:#E1E4E8;">   distOverthere,</span></span>
<span class="line"><span style="color:#E1E4E8;">   distNotHere,</span></span>
<span class="line"><span style="color:#E1E4E8;">   distUnknownObject</span></span>
<span class="line"><span style="color:#E1E4E8;">} DISTANCE;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">extern</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">isHolding</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">container</span><span style="color:#E1E4E8;">, OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">obj</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">extern</span><span style="color:#E1E4E8;"> OBJECT </span><span style="color:#F97583;">*</span><span style="color:#B392F0;">getPassage</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">from</span><span style="color:#E1E4E8;">, OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">extern</span><span style="color:#E1E4E8;"> DISTANCE </span><span style="color:#B392F0;">getDistance</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">from</span><span style="color:#E1E4E8;">, OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">extern</span><span style="color:#E1E4E8;"> OBJECT </span><span style="color:#F97583;">*</span><span style="color:#B392F0;">actorHere</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">extern</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">listObjectsAtLocation</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">location</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">typedef</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">enum</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">   distSelf,</span></span>
<span class="line"><span style="color:#24292E;">   distHeld,</span></span>
<span class="line"><span style="color:#24292E;">   distHeldContained,</span></span>
<span class="line"><span style="color:#24292E;">   distLocation,</span></span>
<span class="line"><span style="color:#24292E;">   distHere,</span></span>
<span class="line"><span style="color:#24292E;">   distHereContained,</span></span>
<span class="line"><span style="color:#24292E;">   distOverthere,</span></span>
<span class="line"><span style="color:#24292E;">   distNotHere,</span></span>
<span class="line"><span style="color:#24292E;">   distUnknownObject</span></span>
<span class="line"><span style="color:#24292E;">} DISTANCE;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">extern</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">bool</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">isHolding</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">container</span><span style="color:#24292E;">, OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">obj</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">extern</span><span style="color:#24292E;"> OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#6F42C1;">getPassage</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">from</span><span style="color:#24292E;">, OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">to</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">extern</span><span style="color:#24292E;"> DISTANCE </span><span style="color:#6F42C1;">getDistance</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">from</span><span style="color:#24292E;">, OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">to</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">extern</span><span style="color:#24292E;"> OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#6F42C1;">actorHere</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">extern</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listObjectsAtLocation</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">location</span><span style="color:#24292E;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="misc-c" tabindex="-1">misc.c <a class="header-anchor" href="#misc-c" aria-label="Permalink to &quot;misc.c&quot;">â€‹</a></h2><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;stdbool.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;object.h&quot;</span></span>
<span class="line"><span style="color:#F97583;">#include</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;misc.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">bool</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">isHolding</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">container</span><span style="color:#E1E4E8;">, OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">obj</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> obj </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> obj-&gt;location </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> container;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">OBJECT </span><span style="color:#F97583;">*</span><span style="color:#B392F0;">getPassage</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">from</span><span style="color:#E1E4E8;">, OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (from </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> to </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      OBJECT </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">obj;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> objs; obj </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> endOfObjs; obj</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">isHolding</span><span style="color:#E1E4E8;">(from, obj) </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> obj-&gt;prospect </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> to)</span></span>
<span class="line"><span style="color:#E1E4E8;">         {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> obj;</span></span>
<span class="line"><span style="color:#E1E4E8;">         }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">DISTANCE </span><span style="color:#B392F0;">getDistance</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">from</span><span style="color:#E1E4E8;">, OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> to </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">                               </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> distUnknownObject </span><span style="color:#F97583;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">          to </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> from                               </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> distSelf </span><span style="color:#F97583;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">isHolding</span><span style="color:#E1E4E8;">(from, to)                      </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> distHeld </span><span style="color:#F97583;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">isHolding</span><span style="color:#E1E4E8;">(to, from)                      </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> distLocation </span><span style="color:#F97583;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">isHolding</span><span style="color:#E1E4E8;">(from-&gt;location, to)            </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> distHere </span><span style="color:#F97583;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">isHolding</span><span style="color:#E1E4E8;">(from, to-&gt;location)            </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> distHeldContained </span><span style="color:#F97583;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">isHolding</span><span style="color:#E1E4E8;">(from-&gt;location, to-&gt;location)  </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> distHereContained </span><span style="color:#F97583;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">getPassage</span><span style="color:#E1E4E8;">(from-&gt;location, to) </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> distOverthere </span><span style="color:#F97583;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">                                                     distNotHere;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">OBJECT </span><span style="color:#F97583;">*</span><span style="color:#B392F0;">actorHere</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   OBJECT </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">obj;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> objs; obj </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> endOfObjs; obj</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">isHolding</span><span style="color:#E1E4E8;">(player-&gt;location, obj) </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> obj </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> player </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">          obj-&gt;health </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> obj;</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NULL</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">listObjectsAtLocation</span><span style="color:#E1E4E8;">(OBJECT </span><span style="color:#F97583;">*</span><span style="color:#FFAB70;">location</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> count </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   OBJECT </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">obj;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> objs; obj </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> endOfObjs; obj</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">   {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (obj </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> player </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">isHolding</span><span style="color:#E1E4E8;">(location, obj))</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (count</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">         {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">%s</span><span style="color:#9ECBFF;">:</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, location-&gt;contents);</span></span>
<span class="line"><span style="color:#E1E4E8;">         }</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">printf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">%s\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, obj-&gt;description);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> count;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;stdbool.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;stdio.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;object.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">#include</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;misc.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">bool</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">isHolding</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">container</span><span style="color:#24292E;">, OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">obj</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> obj </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> obj-&gt;location </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> container;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#6F42C1;">getPassage</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">from</span><span style="color:#24292E;">, OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">to</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (from </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> to </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">obj;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> objs; obj </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> endOfObjs; obj</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">isHolding</span><span style="color:#24292E;">(from, obj) </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> obj-&gt;prospect </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> to)</span></span>
<span class="line"><span style="color:#24292E;">         {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> obj;</span></span>
<span class="line"><span style="color:#24292E;">         }</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">DISTANCE </span><span style="color:#6F42C1;">getDistance</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">from</span><span style="color:#24292E;">, OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">to</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> to </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">                               </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> distUnknownObject </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">          to </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> from                               </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> distSelf </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">isHolding</span><span style="color:#24292E;">(from, to)                      </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> distHeld </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">isHolding</span><span style="color:#24292E;">(to, from)                      </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> distLocation </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">isHolding</span><span style="color:#24292E;">(from-&gt;location, to)            </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> distHere </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">isHolding</span><span style="color:#24292E;">(from, to-&gt;location)            </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> distHeldContained </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">isHolding</span><span style="color:#24292E;">(from-&gt;location, to-&gt;location)  </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> distHereContained </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">getPassage</span><span style="color:#24292E;">(from-&gt;location, to) </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">   </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> distOverthere </span><span style="color:#D73A49;">:</span></span>
<span class="line"><span style="color:#24292E;">                                                     distNotHere;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#6F42C1;">actorHere</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">obj;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> objs; obj </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> endOfObjs; obj</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">isHolding</span><span style="color:#24292E;">(player-&gt;location, obj) </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> obj </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> player </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">          obj-&gt;health </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> obj;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NULL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listObjectsAtLocation</span><span style="color:#24292E;">(OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#E36209;">location</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> count </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   OBJECT </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">obj;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> objs; obj </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> endOfObjs; obj</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">   {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (obj </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> player </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">isHolding</span><span style="color:#24292E;">(location, obj))</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (count</span><span style="color:#D73A49;">++</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">         {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">%s</span><span style="color:#032F62;">:</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, location-&gt;contents);</span></span>
<span class="line"><span style="color:#24292E;">         }</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">printf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">%s\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, obj-&gt;description);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> count;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">ğŸ¤” æ€è€ƒé¢˜ï¼š</p><p>ä¸ºä»€ä¹ˆä¸Šé¢çš„ getPassage å‡½æ•°ä½¿ç”¨äº†å‡½æ•°æŒ‡é’ˆè¿™ç§è¯­æ³•ï¼Ÿ</p><p>å‡½æ•°æŒ‡é’ˆå’ŒæŒ‡é’ˆå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p></div><p>ä¸ºäº†ä½¿æ•´ä¸ªç”»é¢å®Œæ•´ï¼Œæœ€å¥½æ‰©å±•å‰é¢ç”Ÿæˆçš„åœ°å›¾ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è™šçº¿è¡¨ç¤º â€œæ˜æ˜¾â€ çš„é€šé“ã€‚</p><div class="language-awk vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">awk</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">BEGIN</span><span style="color:#E1E4E8;">     { </span><span style="color:#F97583;">print</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;digraph map {&quot;</span><span style="color:#E1E4E8;">; }</span></span>
<span class="line"><span style="color:#F97583;">/^-</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">     { outputEdges(); </span><span style="color:#F97583;">delete</span><span style="color:#E1E4E8;"> a; }</span></span>
<span class="line"><span style="color:#F97583;">/^[</span><span style="color:#E1E4E8;"> \\t</span><span style="color:#F97583;">]/</span><span style="color:#E1E4E8;">  { a</span><span style="color:#F97583;">[</span><span style="color:#79B8FF;">$1</span><span style="color:#F97583;">]</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">$2</span><span style="color:#E1E4E8;">; }</span></span>
<span class="line"><span style="color:#79B8FF;">END</span><span style="color:#E1E4E8;">       { outputEdges(); </span><span style="color:#F97583;">print</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;}&quot;</span><span style="color:#E1E4E8;">; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">outputEdges</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   outputEdge(a</span><span style="color:#F97583;">[</span><span style="color:#9ECBFF;">&quot;location&quot;</span><span style="color:#F97583;">]</span><span style="color:#E1E4E8;">, a</span><span style="color:#F97583;">[</span><span style="color:#9ECBFF;">&quot;destination&quot;</span><span style="color:#F97583;">]</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">   outputEdge(a</span><span style="color:#F97583;">[</span><span style="color:#9ECBFF;">&quot;location&quot;</span><span style="color:#F97583;">]</span><span style="color:#E1E4E8;">, a</span><span style="color:#F97583;">[</span><span style="color:#9ECBFF;">&quot;prospect&quot;</span><span style="color:#F97583;">]</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot; [style=dashed]&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">outputEdge</span><span style="color:#E1E4E8;">(from, to, style)</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (from </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> to) </span><span style="color:#F97583;">print</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\\t</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;"> from </span><span style="color:#9ECBFF;">&quot; -&gt; &quot;</span><span style="color:#E1E4E8;"> to style;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">BEGIN</span><span style="color:#24292E;">     { </span><span style="color:#D73A49;">print</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;digraph map {&quot;</span><span style="color:#24292E;">; }</span></span>
<span class="line"><span style="color:#D73A49;">/^-</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">     { outputEdges(); </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> a; }</span></span>
<span class="line"><span style="color:#D73A49;">/^[</span><span style="color:#24292E;"> \\t</span><span style="color:#D73A49;">]/</span><span style="color:#24292E;">  { a</span><span style="color:#D73A49;">[</span><span style="color:#005CC5;">$1</span><span style="color:#D73A49;">]</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">$2</span><span style="color:#24292E;">; }</span></span>
<span class="line"><span style="color:#005CC5;">END</span><span style="color:#24292E;">       { outputEdges(); </span><span style="color:#D73A49;">print</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;}&quot;</span><span style="color:#24292E;">; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">outputEdges</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   outputEdge(a</span><span style="color:#D73A49;">[</span><span style="color:#032F62;">&quot;location&quot;</span><span style="color:#D73A49;">]</span><span style="color:#24292E;">, a</span><span style="color:#D73A49;">[</span><span style="color:#032F62;">&quot;destination&quot;</span><span style="color:#D73A49;">]</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">   outputEdge(a</span><span style="color:#D73A49;">[</span><span style="color:#032F62;">&quot;location&quot;</span><span style="color:#D73A49;">]</span><span style="color:#24292E;">, a</span><span style="color:#D73A49;">[</span><span style="color:#032F62;">&quot;prospect&quot;</span><span style="color:#D73A49;">]</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot; [style=dashed]&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">outputEdge</span><span style="color:#24292E;">(from, to, style)</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (from </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> to) </span><span style="color:#D73A49;">print</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\\t</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;"> from </span><span style="color:#032F62;">&quot; -&gt; &quot;</span><span style="color:#24292E;"> to style;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>æ³¨æ„ï¼š</p><ul><li>å°½é‡ä¸è¦å¤ªæ‹…å¿ƒæµªè´¹ä»…åœ¨æŸäº›ç±»å‹çš„å¯¹è±¡ä¸­ä½¿ç”¨çš„å±æ€§ä¸Šçš„å†…å­˜ç©ºé—´ï¼ˆä¾‹å¦‚ï¼Œ<em>textGo</em> ä»…ç”¨äºé€šé“ï¼‰ï¼Œæˆ–è€…è®¸å¤šé‡å¤çš„å­—ç¬¦ä¸²æ–‡æœ¬ã€‚</li><li>ä¸ºäº†æ¼”ç¤ºå±æ€§ prospect çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬ä½¿æ´ç©´æ— æ³•è®¿é—®ã€‚å½“æ‚¨æŸ¥çœ‹æ–° * åœ°å›¾æ—¶ï¼Œ* è¿™ä¸€ç‚¹ç«‹å³å˜å¾—å¾ˆæ˜æ˜¾ã€‚è¿›å…¥æ´ç©´çš„ç®­å¤´æ˜¯è™šçº¿çš„ï¼Œè¿™æ„å‘³ç€è¿™æ˜¯ä¸€ä¸ªè™šå‡çš„é€šé“ï¼Œä½†ä¸æ˜¯å®é™…çš„é€šé“ã€‚è¯·æ”¾å¿ƒï¼Œæ´ç©´å°†åœ¨ä¸‹ä¸€ç« é‡æ–°å¼€æ”¾ã€‚</li><li>è¯·æ³¨æ„ï¼Œæ›´è¯¦ç»†çš„æè¿°å¾€å¾€éœ€è¦ä¸€ä¸ªæ›´å¤§çš„å­—å…¸ï¼ˆæ›´å¤šçš„å¯¹è±¡ï¼Œæ›´å¤šçš„æ ‡ç­¾ï¼‰ã€‚ä¾‹å¦‚ï¼Œå‘½ä»¤ look silver coin ç°åœ¨è¿”å› &quot;è¯¥ç¡¬å¸çš„æ­£é¢æœ‰ä¸€åªé¹°&quot;ã€‚ç©å®¶é€šè¿‡è¾“å…¥ä¸€ä¸ªå‘½ä»¤ look eagle æ¥æŸ¥çœ‹é“¶å¸ï¼Œä½†ç¨‹åºå¹¶ä¸çŸ¥é“é¹°æ˜¯ä»€ä¹ˆæ„æ€ (æ˜¾ç„¶è¿™æ ·å­æ˜¯ä¸è¡Œçš„)ã€‚</li></ul><p>è¾“å‡ºæ ·ä¾‹</p><p>Welcome to Little Cave Adventure. You are in an open field. You see: a silver coin a burly guard a cave entrance to the east dense forestall around</p><p>--&gt; look guard The guard is a really big fellow.</p><p>--&gt; get guard That is way too heavy.</p><p>--&gt; get coin You pick up a silver coin.</p><p>--&gt; inventory You have: a silver coin</p><p>--&gt; give coin You give a silver coin to a burly guard.</p><p>--&gt; look guard The guard is a really big fellow. He has: a silver coin</p><p>--&gt; go cave The guard stops you from walking into the cave.</p><p>--&gt; go north Dense forest is blocking the way.</p><p>--&gt; quit</p><p>Bye!</p>`,46),e=[o];function c(t,r,E,y,i,u){return n(),a("div",null,e)}const d=s(p,[["render",c]]);export{b as __pageData,d as default};
